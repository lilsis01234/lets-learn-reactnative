{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FontAwesome5 from \"@expo/vector-icons/FontAwesome5\";\nimport * as Animatable from 'react-native-animatable';\nimport mimi from \"./mimi.gif\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar Home = function Home(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    authenticated = _useState6[0],\n    setAuthenticated = _useState6[1];\n  var handleLogin = function handleLogin(e) {\n    e.preventDefault();\n    axios.defaults.withCredentials = true;\n    axios.post('http://localhost:3000/auth/login', {\n      email: email,\n      password: password\n    }).then(function (response) {\n      var data = response.data;\n      console.log(data);\n      setAuthenticated(true);\n      localStorage.setItem('authenticated', authenticated);\n      localStorage.setItem('nom', response.data.nom);\n      navigation.navigate('Accueil');\n    }).catch(function (error) {\n      console.log(error.response);\n      alert(\"Informations incorrectes: \" + error.message);\n    });\n  };\n  var styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: \"white\",\n      justifyContent: \"center\",\n      padding: 20\n    },\n    title: {\n      fontSize: 36,\n      marginBottom: 20,\n      textAlign: \"center\",\n      color: \"rgb(239, 135, 11)\",\n      fontFamily: \"Arial\"\n    },\n    input: {\n      padding: 20,\n      backgroundColor: \"lightgray\",\n      borderRadius: 10,\n      marginBottom: 20\n    },\n    button: {\n      backgroundColor: \"rgb(239, 135, 11)\",\n      borderRadius: 10,\n      padding: 25,\n      alignItems: \"center\",\n      marginBottom: 25\n    },\n    buttonText: {\n      color: \"white\",\n      fontWeight: \"bold\",\n      fontSize: 20\n    },\n    option: {\n      alignItems: \"center\"\n    },\n    optionText: {\n      fontSize: 24,\n      marginTop: 10,\n      color: \"rgb(239, 135, 11)\"\n    },\n    right: {\n      justifyContent: \"flex-end\",\n      backgroundColor: \"#ffffff\",\n      padding: 10\n    },\n    gifImage: {\n      width: 200,\n      height: 200,\n      marginBottom: 20,\n      borderRadius: 100\n    },\n    content: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%'\n    }\n  });\n  return _jsxs(_Fragment, {\n    children: [_jsx(View, {\n      style: styles.right,\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate('Register');\n        },\n        children: _jsxs(Text, {\n          style: styles.optionText,\n          children: [\"S'inscrire \", _jsx(FontAwesome5, {\n            name: \"paw\",\n            size: 20,\n            color: \"rgb(239, 135, 11)\"\n          }), \" \"]\n        })\n      })\n    }), _jsx(View, {\n      style: styles.container,\n      children: _jsxs(Animatable.View, {\n        animation: \"fadeInDown\",\n        children: [_jsx(View, {\n          style: styles.content,\n          children: _jsx(Image, {\n            source: mimi,\n            style: styles.gifImage\n          })\n        }), _jsxs(Text, {\n          style: styles.title,\n          children: [_jsx(FontAwesome5, {\n            name: \"dog\",\n            size: 20,\n            color: \"rgb(239, 135, 11)\"\n          }), \"Wel-Paw\", _jsx(FontAwesome5, {\n            name: \"cat\",\n            size: 20,\n            color: \"rgb(239, 135, 11)\"\n          })]\n        }), _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"Votre email\",\n          onChangeText: function onChangeText(text) {\n            return setEmail(text);\n          }\n        }), _jsx(TextInput, {\n          style: styles.input,\n          secureTextEntry: true,\n          placeholder: \"Votre mot de passe\",\n          onChangeText: function onChangeText(text) {\n            return setPassword(text);\n          }\n        }), _jsx(TouchableOpacity, {\n          style: styles.button,\n          onPress: handleLogin,\n          children: _jsxs(Text, {\n            style: styles.buttonText,\n            children: [\"Se connecter \", _jsx(FontAwesome5, {\n              name: \"paw\",\n              size: 20,\n              color: \"#ffffff\"\n            }), \" \"]\n          })\n        })]\n      })\n    })]\n  });\n};\nexport default Home;\n_NativeWindStyleSheet.create({\n  styles: {\n    \"container\": {\n      \"width\": \"100%\"\n    },\n    \"container@0\": {\n      \"maxWidth\": 640\n    },\n    \"container@1\": {\n      \"maxWidth\": 768\n    },\n    \"container@2\": {\n      \"maxWidth\": 1024\n    },\n    \"container@3\": {\n      \"maxWidth\": 1280\n    },\n    \"container@4\": {\n      \"maxWidth\": 1536\n    },\n    \"flex\": {\n      \"display\": \"flex\"\n    }\n  },\n  atRules: {\n    \"container\": [[[\"media\", \"(min-width: 640px)\"]], [[\"media\", \"(min-width: 768px)\"]], [[\"media\", \"(min-width: 1024px)\"]], [[\"media\", \"(min-width: 1280px)\"]], [[\"media\", \"(min-width: 1536px)\"]]]\n  },\n  topics: {\n    \"container\": [\"width\"]\n  }\n});","map":{"version":3,"names":["React","useState","axios","Text","TextInput","View","Image","TouchableOpacity","StyleSheet","FontAwesome5","Animatable","mimi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","_ref","navigation","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","authenticated","setAuthenticated","handleLogin","e","preventDefault","defaults","withCredentials","post","then","response","data","console","log","localStorage","setItem","nom","navigate","catch","error","alert","message","styles","create","container","flex","backgroundColor","justifyContent","padding","title","fontSize","marginBottom","textAlign","color","fontFamily","input","borderRadius","button","alignItems","buttonText","fontWeight","option","optionText","marginTop","right","gifImage","width","height","content","display","children","style","onPress","name","size","animation","source","placeholder","onChangeText","text","secureTextEntry","_NativeWindStyleSheet","atRules","topics"],"sources":["C:/Users/Fabiola/Documents/react-native/react-native/ato/front/components/Home/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Text, TextInput, View, Image, TouchableOpacity, StyleSheet } from \"react-native\";\r\nimport FontAwesome5 from 'react-native-vector-icons/FontAwesome5'; \r\nimport * as Animatable from 'react-native-animatable';\r\nimport mimi from './mimi.gif';\r\n\r\nconst Home = ({ navigation }) => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [authenticated, setAuthenticated] = useState(false);\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.defaults.withCredentials = true;\r\n        axios.post('http://localhost:3000/auth/login', {\r\n                email,\r\n                password\r\n            }).then((response) =>{\r\n                const data = response.data;\r\n                console.log(data)\r\n                setAuthenticated(true);\r\n                localStorage.setItem('authenticated', authenticated);\r\n                localStorage.setItem('nom',response.data.nom)\r\n                navigation.navigate('Accueil');\r\n            })\r\n            .catch(error => {\r\n                console.log(error.response); \r\n                alert(\"Informations incorrectes: \" + error.message);\r\n            });\r\n            \r\n    };\r\n\r\n    const styles = StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            backgroundColor: \"white\",\r\n            justifyContent: \"center\",\r\n            padding: 20,\r\n        },\r\n        title: {\r\n            fontSize: 36,\r\n            marginBottom: 20,\r\n            textAlign: \"center\",\r\n            color: \"rgb(239, 135, 11)\",\r\n            fontFamily: \"Arial\", \r\n        },\r\n        input: {\r\n            padding: 20,\r\n            backgroundColor: \"lightgray\",\r\n            borderRadius: 10,\r\n            marginBottom: 20,\r\n        },\r\n        button: {\r\n            backgroundColor: \"rgb(239, 135, 11)\",\r\n            borderRadius: 10,\r\n            padding: 25,\r\n            alignItems: \"center\",\r\n            marginBottom: 25, \r\n        },\r\n        buttonText: {\r\n            color: \"white\",\r\n            fontWeight: \"bold\",\r\n            fontSize: 20,\r\n        },\r\n        option: {\r\n            alignItems: \"center\",\r\n        },\r\n        optionText: {\r\n            fontSize: 24,\r\n            marginTop: 10,\r\n            color: \"rgb(239, 135, 11)\",\r\n        },\r\n        right: {\r\n            justifyContent: \"flex-end\",\r\n            backgroundColor: \"#ffffff\",\r\n            padding: 10\r\n        },\r\n        gifImage: {\r\n            width: 200,\r\n            height: 200,\r\n            marginBottom: 20,\r\n            borderRadius: 100, \r\n        },\r\n        content :{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            width: '100%',\r\n        }\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <View style={styles.right}>\r\n            <TouchableOpacity onPress={() => navigation.navigate('Register')}>\r\n                <Text style={styles.optionText}>S'inscrire <FontAwesome5 name=\"paw\" size={20} color=\"rgb(239, 135, 11)\" /> </Text>\r\n            </TouchableOpacity>\r\n            </View>\r\n\r\n            <View style={styles.container}>\r\n                <Animatable.View animation=\"fadeInDown\">\r\n                    <View style={styles.content}>\r\n                        <Image source={mimi} style={styles.gifImage} />\r\n                    </View>\r\n                        <Text style={styles.title}><FontAwesome5 name=\"dog\" size={20} color=\"rgb(239, 135, 11)\" />Wel-Paw<FontAwesome5 name=\"cat\" size={20} color=\"rgb(239, 135, 11)\" /></Text>\r\n                        <TextInput\r\n                            style={styles.input}\r\n                            placeholder=\"Votre email\"\r\n                            onChangeText={(text) => setEmail(text)}\r\n                        />\r\n                        <TextInput\r\n                            style={styles.input}\r\n                            secureTextEntry\r\n                            placeholder=\"Votre mot de passe\"\r\n                            onChangeText={(text) => setPassword(text)}\r\n                        />\r\n                        <TouchableOpacity style={styles.button} onPress={handleLogin}>\r\n                            <Text style={styles.buttonText}>Se connecter <FontAwesome5 name=\"paw\" size={20} color=\"#ffffff\" /> </Text>\r\n                        </TouchableOpacity>\r\n                </Animatable.View>\r\n            </View>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}