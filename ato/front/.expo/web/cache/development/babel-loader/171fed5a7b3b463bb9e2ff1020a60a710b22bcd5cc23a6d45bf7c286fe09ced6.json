{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { connect } from 'react-redux';\nimport { deleteUser } from \"../Crud\";\nimport EditUserForm from \"./EditUserForm\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar UserList = function UserList(_ref) {\n  var users = _ref.users,\n    dispatch = _ref.dispatch;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    editingUser = _useState2[0],\n    setEditingUser = _useState2[1];\n  var handleEdit = function handleEdit(user) {\n    setEditingUser(user);\n  };\n  var handleCancelEdit = function handleCancelEdit() {\n    setEditingUser(null);\n  };\n  var styles = StyleSheet.create({\n    main_container: {\n      textAlign: \"center\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    title: {\n      color: \"red\",\n      fontSize: \"24px\"\n    },\n    grey: {\n      backgroundColor: 'grey'\n    },\n    white: {\n      backgroundColor: 'white'\n    },\n    deleteButton: {\n      backgroundColor: \"red\",\n      paddingVertical: 5,\n      paddingHorizontal: 10,\n      borderRadius: 3\n    }\n  });\n  return _jsx(View, {\n    children: _jsx(FlatList, {\n      data: users,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsxs(_Fragment, {\n          children: [_jsx(\"table\", {\n            children: _jsxs(\"tr\", {\n              style: item.id % 2 === 0 ? styles.grey : styles.white,\n              children: [_jsx(\"td\", {\n                children: _jsx(Text, {\n                  style: styles.textes,\n                  children: item.nom\n                })\n              }), _jsx(\"td\", {\n                children: _jsx(Text, {\n                  style: styles.textes,\n                  children: item.prenom\n                })\n              }), _jsx(\"td\", {\n                children: _jsx(Text, {\n                  style: styles.textes,\n                  children: item.usernom\n                })\n              }), _jsx(\"td\", {\n                children: _jsx(Text, {\n                  style: styles.textes,\n                  children: item.age\n                })\n              }), _jsx(\"td\", {\n                children: _jsx(Button, {\n                  title: \"Delete\",\n                  onPress: function onPress() {\n                    return dispatch(deleteUser(item.usernom));\n                  }\n                })\n              }), _jsx(\"td\", {\n                children: _jsx(Button, {\n                  title: \"Edit\",\n                  onPress: function onPress() {\n                    return handleEdit(item);\n                  }\n                })\n              })]\n            })\n          }), _jsx(View, {\n            children: editingUser && _jsxs(View, {\n              children: [_jsx(EditUserForm, {\n                user: editingUser\n              }), _jsx(Button, {\n                title: \"Cancel\",\n                onPress: handleCancelEdit\n              })]\n            })\n          })]\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.usernom;\n      }\n    })\n  });\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    users: state.users\n  };\n};\nexport default connect(mapStateToProps)(UserList);","map":{"version":3,"names":["React","useState","View","Text","FlatList","Button","StyleSheet","connect","deleteUser","EditUserForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserList","_ref","users","dispatch","_useState","_useState2","_slicedToArray","editingUser","setEditingUser","handleEdit","user","handleCancelEdit","styles","create","main_container","textAlign","alignItems","justifyContent","title","color","fontSize","grey","backgroundColor","white","deleteButton","paddingVertical","paddingHorizontal","borderRadius","children","data","renderItem","_ref2","item","style","id","textes","nom","prenom","usernom","age","onPress","keyExtractor","mapStateToProps","state"],"sources":["C:/Users/Fabiola/Documents/front/components/Exercice/Tpredux/Components/UserList.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport { View, Text, FlatList, Button,StyleSheet } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { deleteUser } from '../Crud';\r\nimport EditUserForm from './EditUserForm'; \r\n\r\nconst UserList = ({ users, dispatch }) => {\r\n  const [editingUser, setEditingUser] = useState(null);\r\n\r\n  const handleEdit = (user) => {\r\n    setEditingUser(user); \r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingUser(null); \r\n  };\r\n\r\n  const styles = StyleSheet.create({\r\n        main_container: {\r\n            textAlign: \"center\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\", \r\n        },\r\n        title:{\r\n            color:\"red\",\r\n            fontSize:\"24px\"\r\n        },\r\n        grey:{\r\n            backgroundColor:'grey'\r\n        },\r\n        white:{\r\n            backgroundColor:'white'\r\n        },\r\n        deleteButton: {\r\n            backgroundColor: \"red\",\r\n            paddingVertical: 5,\r\n            paddingHorizontal: 10,\r\n            borderRadius: 3,\r\n        }\r\n  });\r\n\r\n  return (\r\n    <View>\r\n      <FlatList\r\n        data={users}\r\n        renderItem={({ item }) => (\r\n            <>\r\n                <table>\r\n                        <tr style={item.id % 2 === 0 ? styles.grey : styles.white}>\r\n                            <td><Text style={styles.textes}>{item.nom}</Text></td>\r\n                            <td><Text style={styles.textes}>{item.prenom}</Text></td>\r\n                            <td><Text style={styles.textes}>{item.usernom}</Text></td>\r\n                            <td><Text style={styles.textes}>{item.age}</Text></td>\r\n                            <td>\r\n                                <Button title=\"Delete\" onPress={() => dispatch(deleteUser(item.usernom))} />\r\n                            </td>\r\n                            <td>\r\n                            <Button title=\"Edit\" onPress={() => handleEdit(item)} />\r\n                            </td>\r\n                        </tr>\r\n                </table>\r\n                <View>\r\n                    {editingUser && ( \r\n                    <View>\r\n                        <EditUserForm user={editingUser} />\r\n                        <Button title=\"Cancel\" onPress={handleCancelEdit} /> \r\n                    </View>\r\n                    )}\r\n                </View>\r\n            </>\r\n          )}\r\n        keyExtractor={(item) => item.usernom}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  users: state.users,\r\n});\r\n\r\nexport default connect(mapStateToProps)(UserList);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}