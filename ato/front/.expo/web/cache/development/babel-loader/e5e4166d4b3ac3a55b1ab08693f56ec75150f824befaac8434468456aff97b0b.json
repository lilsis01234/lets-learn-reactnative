{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AppointmentForm = function AppointmentForm(_ref) {\n  var _ref2;\n  var doctorId = _ref.doctorId;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    date = _useState2[0],\n    setDate = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    time = _useState4[0],\n    setTime = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    description = _useState6[0],\n    setDescription = _useState6[1];\n  var handleAppointmentSubmit = function handleAppointmentSubmit() {\n    return (_ref2 = _ref2 || _asyncToGenerator(function* () {\n      try {\n        if (!date || !time || !description) {\n          Alert.alert(\"Error\", \"Please fill in all fields.\");\n          return;\n        }\n        var dateRendezVous = new Date(date);\n        var appointmentData = {\n          patient: localStorage.getItem(\"id\"),\n          docteur: doctorId,\n          contenu: description,\n          date: `${dateRendezVous}`,\n          heureStart: `${time}`\n        };\n        var response = yield axios.post(\"http://127.0.0.1:3000/rendezvous/rendezvous\", appointmentData);\n        console.log(response.data);\n        Alert.alert(\"Success\", \"Appointment created successfully.\");\n      } catch (error) {\n        console.error(error);\n        Alert.alert(\"Error\", \"Failed to create the appointment.\");\n      }\n    })).apply(this, arguments);\n  };\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: \"Date:\"\n    }), _jsx(TextInput, {\n      placeholder: \"YYYY-MM-DD\",\n      value: date,\n      onChangeText: function onChangeText(text) {\n        return setDate(text);\n      }\n    }), _jsx(Text, {\n      children: \"Time:\"\n    }), _jsx(TextInput, {\n      placeholder: \"HH:MM AM/PM\",\n      value: time,\n      onChangeText: function onChangeText(text) {\n        return setTime(text);\n      }\n    }), _jsx(Text, {\n      children: \"Description:\"\n    }), _jsx(TextInput, {\n      multiline: true,\n      placeholder: \"Describe the reason for the appointment\",\n      value: description,\n      onChangeText: function onChangeText(text) {\n        return setDescription(text);\n      }\n    }), _jsx(TouchableOpacity, {\n      onPress: handleAppointmentSubmit,\n      children: _jsx(Text, {\n        children: \"Submit Appointment\"\n      })\n    })]\n  });\n};\nexport default AppointmentForm;","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","Alert","axios","jsx","_jsx","jsxs","_jsxs","AppointmentForm","_ref","_ref2","doctorId","_useState","_useState2","_slicedToArray","date","setDate","_useState3","_useState4","time","setTime","_useState5","_useState6","description","setDescription","handleAppointmentSubmit","_asyncToGenerator","alert","dateRendezVous","Date","appointmentData","patient","localStorage","getItem","docteur","contenu","heureStart","response","post","console","log","data","error","apply","arguments","children","placeholder","value","onChangeText","text","multiline","onPress"],"sources":["C:/Users/Fabiola/Desktop/projet/front/components/ListeRendezVous/AjoutRendezVous.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { View, Text, TextInput, TouchableOpacity, Alert } from \"react-native\";\r\nimport axios from \"axios\";\r\n\r\nconst AppointmentForm = ({ doctorId }) => {\r\n    const [date, setDate] = useState(\"\"); // State for date\r\n    const [time, setTime] = useState(\"\"); // State for time\r\n    const [description, setDescription] = useState(\"\"); // State for description\r\n  \r\n    const handleAppointmentSubmit = async () => {\r\n      try {\r\n        // Validate form fields\r\n        if (!date || !time || !description) {\r\n          Alert.alert(\"Error\", \"Please fill in all fields.\");\r\n          return;\r\n        }\r\n  \r\n        const dateRendezVous = new Date(date);\r\n        // Construct the appointment object\r\n        const appointmentData = {\r\n          patient: localStorage.getItem(\"id\"), \r\n          docteur: doctorId,\r\n          contenu: description,\r\n          date: `${dateRendezVous}`, \r\n          heureStart:`${time}`\r\n        };\r\n  \r\n        // Make an API request to create the appointment\r\n        const response = await axios.post(\"http://127.0.0.1:3000/rendezvous/rendezvous\", appointmentData);\r\n  \r\n        console.log(response.data);\r\n        Alert.alert(\"Success\", \"Appointment created successfully.\");\r\n        // You can add navigation logic to go back or navigate to a different screen\r\n      } catch (error) {\r\n        console.error(error);\r\n        Alert.alert(\"Error\", \"Failed to create the appointment.\");\r\n      }\r\n    };\r\n  \r\n    return (\r\n      <View>\r\n        <Text>Date:</Text>\r\n        <TextInput\r\n          placeholder=\"YYYY-MM-DD\"\r\n          value={date}\r\n          onChangeText={(text) => setDate(text)}\r\n        />\r\n  \r\n        <Text>Time:</Text>\r\n        <TextInput\r\n          placeholder=\"HH:MM AM/PM\"\r\n          value={time}\r\n          onChangeText={(text) => setTime(text)}\r\n        />\r\n  \r\n        <Text>Description:</Text>\r\n        <TextInput\r\n          multiline\r\n          placeholder=\"Describe the reason for the appointment\"\r\n          value={description}\r\n          onChangeText={(text) => setDescription(text)}\r\n        />\r\n  \r\n        <TouchableOpacity onPress={handleAppointmentSubmit}>\r\n          <Text>Submit Appointment</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  };\r\n  \r\n  export default AppointmentForm;\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}